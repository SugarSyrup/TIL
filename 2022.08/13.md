# TIL 22.08.13

- **Learn GraphQL**

[Link](https://nomadcoders.co/graphql-for-beginners/) ~4.4

## Apollo Serverì†Œê°œ

Apollo ì„œë²„ëŠ” Apollo í´ë¼ì´ì–¸íŠ¸ë¥¼ í¬í•¨í•œ ëª¨ë“  GraphQL í´ë¼ì´ì–¸íŠ¸ì™€ í˜¸í™˜ë˜ëŠ” ì‚¬ì–‘ ì¤€ìˆ˜(spec-compliant)ì˜ ì˜¤í”ˆ ì†ŒìŠ¤ GraphQL ì„œë²„ì…ë‹ˆë‹¤. ëª¨ë“  ì†ŒìŠ¤ì˜ ë°ì´í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìì²´ ë¬¸ì„œí™” ê°€ëŠ¥í•œ production-ready GraphQL APIë¥¼ êµ¬ì¶•í•˜ëŠ” ê°€ì¥ ì¢‹ì€ ë°©ë²•ì…ë‹ˆë‹¤.
[link](https://www.apollographql.com/docs/apollo-server/)

## Apollo Serverì‹œì‘í•˜ê¸°

```
npm install apollo-server graphql
npm install nodemon -D
```

```
const server = new ApolloServer({
typeDefs
});

server.listen().then(({ url }) => {
console.log(`ğŸš€ Server ready at ${url}`);
});
```

https://www.apollographql.com/docs/apollo-server/getting-started/

## Define your GraphQL schema (GraphQL ìŠ¤í‚¤ë§ˆ ì •ì˜)

ëª¨ë“  GraphQL ì„œë²„(Apollo Server í¬í•¨)ëŠ” ìŠ¤í‚¤ë§ˆë¥¼ ì‚¬ìš©í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ê°€ ì¿¼ë¦¬í•  ìˆ˜ ìˆëŠ” ë°ì´í„° êµ¬ì¡°ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. (ìŠ¤í‚¤ë§ˆëŠ” type definitionsì˜ ëª¨ìŒì…ë‹ˆë‹¤.)

```
const typeDefs = gql`
type Book {
title: String
author: String
}

type Query {
books: [Book]
}
`;
```

https://www.apollographql.com/docs/apollo-server/getting-started/#step-3-define-your-graphql-schema

## Scalar types

GraphQL ê°ì²´ íƒ€ì…ì—ëŠ” ì´ë¦„ê³¼ í•„ë“œê°€ ìˆì§€ë§Œ ì´ í•„ë“œëŠ” ë”ìš± êµ¬ì²´ì ì¸ ë°ì´í„°ë¡œ í•´ì„ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ê·¸ ë•Œ ìŠ¤ì¹¼ë¼ íƒ€ì…ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

GraphQLì€ ê¸°ë³¸ ìŠ¤ì¹¼ë¼ íƒ€ì… ì„¸íŠ¸ì™€ í•¨ê»˜ ì œê³µë©ë‹ˆë‹¤.
ID: ID ìŠ¤ì¹¼ë¼ íƒ€ì…ì€ ê°ì²´ë¥¼ ë‹¤ì‹œ ê°€ì ¸ì˜¤ê±°ë‚˜ ìºì‹œì˜ í‚¤ë¡œ ìì£¼ ì‚¬ìš©ë˜ëŠ” ê³ ìœ  ì‹ë³„ìë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
https://graphql.org/learn/schema/#scalar-types

## Mutations

GraphQLì— ëŒ€í•œ ëŒ€ë¶€ë¶„ì€ ë°ì´í„° fetchingì´ì§€ë§Œ, ì„œë²„ ì¸¡ ë°ì´í„°ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ í•„ìš”í•©ë‹ˆë‹¤. ì„œë²„ ì¸¡ ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ëŠ” ëª¨ë“  ì‘ì—…ì€ mutationì„ í†µí•´ ë³´ë‚´ì•¼ í•œë‹¤ëŠ” ê·œì¹™ì„ ì„¤ì •í•˜ëŠ” ê²ƒì´ ìœ ìš©í•©ë‹ˆë‹¤.

```
mutation CreateReview($ep: Episode!, $review: ReviewInput!) {
createReview(episode: $ep, review: $review) {
stars
commentary
}
}
```

https://graphql.org/learn/queries/#mutations

## Lists and Non-Null

ì•„ë˜ Characterì— nameì— String íƒ€ì…ì„ ì‚¬ìš©í•˜ê³  ëŠë‚Œí‘œ !ë¥¼ ì¶”ê°€í•˜ì—¬ Non-Nullë¡œ í‘œì‹œí•©ë‹ˆë‹¤.
Non-Nullë¡œ í‘œì‹œí•˜ê²Œ ë˜ë©´ ì„œë²„ê°€ í•­ìƒ ì´ í•„ë“œì— ëŒ€í•´ nullì´ ì•„ë‹Œ ê°’ì„ ë°˜í™˜í•  ê²ƒìœ¼ë¡œ ì˜ˆìƒí•©ë‹ˆë‹¤. ê·¸ë˜ì„œ null ê°’ì„ ì–»ê²Œ ë˜ë©´ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë¬¸ì œê°€ ìˆìŒì„ ì•Œë¦½ë‹ˆë‹¤.

```
type Character {
name: String!
appearsIn: [Episode]!
}
```

https://graphql.org/learn/schema/#lists-and-non-null
